---
title: "Figure-Environement"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{03-Figure-Env}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, echo=FALSE}
library(texor)
```

## Working with figures

Images are an essential component in any article, However due to the differences in the support
for various graphic formats between LaTeX and markdown/HTML we need to fallback on raster graphics. 

```{r, echo = FALSE, results = 'asis'}
library(knitr)
table <- data.frame("Graphics-Format" = c("PNG", "JPG", "PDF", "SVG", "Tikz", "Algorithm"),
              "LaTeX" = c("&#10003;", "&#10003;", "&#10003;", "&#10007;", "&#10003;", "&#10003;"),
              "Markdown" = c("&#10003;", "&#10003;", "&#10007;", "&#10003;", "&#10007;", "&#10007;"),
              "RMarkdown" = c("&#10003;", "&#10003;", "&#10007;", "&#10003;", "&#10003;(using tikz engine)", "&#10007;"),
              "HTML" = c("&#10003;", "&#10003;", "&#10007;", "&#10003;", "&#10007;", "&#10007;"))
kable(table, caption =  "Image Format support in various Markup/Typesetting Languages")
```

As we can observe from the above table, raster (PNG and JPG) images are relatively easy to handle and 
do not require any additional pre-processing. Pandoc handles it well. 

PNG,JPG images are easily included as markdown images with captions, labels and other parameters.

For other image formats like tikz and algorithm, they are first isolated and compiled into a PDF,
then to a PNG using pdftools package.

#### For the best results after conversion : 


1. Avoid using framebox or any other latex command to wrap the `\includegraphics{}` .
This might interfere with the packages ability to properly read the path and copy the relevant image properly.
2. Try to keep the actual content of the caption without any LaTeX markup (normal text), as it is not reflected in HTML properly.

For example :
``` latex
\begin{figure}
  \includegraphics{image/sample.png}
  \caption{This is a sample caption}
  \labeL{fig:image-1}
\end{figure}
```
